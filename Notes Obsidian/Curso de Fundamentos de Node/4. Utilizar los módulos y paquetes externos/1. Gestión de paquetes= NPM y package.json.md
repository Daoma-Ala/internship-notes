# Gestión de paquetes: NPM y package.json

## Introducción

NPM (Node Package Manager) es el gestor de paquetes por defecto para Node.js. Permite instalar, administrar y compartir paquetes de JavaScript, facilitando el desarrollo de aplicaciones.

## Instalación de NPM

NPM se instala automáticamente con Node.js. Para verificar la versión instalada:

```sh
node -v  # Ver versión de Node.js
npm -v   # Ver versión de NPM
```

## Archivo `package.json`

El archivo `package.json` es el núcleo de cualquier proyecto Node.js, ya que define las dependencias y metadatos del proyecto.

### Creación de `package.json`

Para crear un archivo `package.json` de forma interactiva:

```sh
npm init
```

Para una creación rápida con valores por defecto:

```sh
npm init -y
```

### Estructura básica de `package.json`

```json
{
  "name": "mi-proyecto",
  "version": "1.0.0",
  "description": "Descripción del proyecto",
  "main": "index.js",
  "scripts": {
    "start": "node index.js"
  },
  "dependencies": {
    "express": "^4.18.2"
  },
  "devDependencies": {
    "nodemon": "^2.0.22"
  }
}
```

### Campos importantes

- **name**: Nombre del proyecto.
    
- **version**: Versión del proyecto.
    
- **description**: Descripción opcional.
    
- **main**: Archivo de entrada principal.
    
- **scripts**: Comandos personalizados.
    
- **dependencies**: Dependencias necesarias para la ejecución.
    
- **devDependencies**: Dependencias necesarias solo para desarrollo.
    

## Gestión de paquetes con NPM

### Instalación de paquetes

- Instalar una dependencia:
    
    ```sh
    npm install paquete
    ```
    
- Instalar una dependencia de desarrollo:
    
    ```sh
    npm install paquete --save-dev
    ```
    
- Instalar todas las dependencias del `package.json`:
    
    ```sh
    npm install
    ```
    

### Eliminación de paquetes

```sh
npm uninstall paquete
```

### Actualización de paquetes

- Actualizar una dependencia:
    
    ```sh
    npm update paquete
    ```
    
- Actualizar todas las dependencias:
    
    ```sh
    npm update
    ```
    

## Uso de `package-lock.json`

Este archivo bloquea las versiones exactas de las dependencias instaladas para asegurar la consistencia del proyecto.

## Scripts en `package.json`

Se pueden definir comandos personalizados para automatizar tareas. Ejemplo:

```json
"scripts": {
  "start": "node app.js",
  "dev": "nodemon app.js"
}
```

Para ejecutar un script:

```sh
npm run dev
```

## Conclusión

NPM y `package.json` son fundamentales para la gestión de proyectos en Node.js, permitiendo administrar dependencias y automatizar tareas de manera eficiente.