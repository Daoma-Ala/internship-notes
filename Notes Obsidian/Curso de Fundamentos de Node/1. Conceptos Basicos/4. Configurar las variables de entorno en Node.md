## ¿Cómo utilizar variables de entorno en Node.js?

Al programar, es crucial gestionar eficientemente la información sensible, como credenciales o claves de API, sin incluirla directamente en el código. Aquí entra en juego el uso de variables de entorno, una práctica estándar para mantener la seguridad y flexibilidad en nuestros proyectos. Vamos a explorar cómo implementar variables de entorno utilizando Node.js.

### ¿Por qué utilizar variables de entorno?

Las variables de entorno nos permiten:

- **Mantener las credenciales seguras:** Almacenar información sensible fuera del código.
- **Facilitar la configuración dinámica:** Configurar las aplicaciones de manera flexible dependiendo del entorno (desarrollo, pruebas, producción).
- **Mejorar la seguridad y la portabilidad:** Permitir cambiar configuraciones sin modificar el código fuente.

### ¿Cómo definir e importar variables de entorno en Node.js?

Para importar variables de entorno en Node.js, accedemos al objeto `process.env`. Veamos cómo se hace con un ejemplo:

```javascript
// entorno.js
const saludo = process.env.NOMBRE || "sin nombre";
const web = process.env.WEB || "No tengo web";

console.log(`Hola ${saludo}, mi web es ${web}`);
```

**Ejecutar el script con variables de entorno:**

Para dar valor a nuestras variables desde la línea de comandos, lo hacemos antes de ejecutar el script:

```bash
NOMBRE=Carlos WEB=http://miweb.com node entorno.js
```

### ¿Qué pasa si las variables de entorno no están definidas?

En muchos casos, puede que no todas las variables estén definidas. Es esencial definir valores por defecto para evitar errores al ejecutar nuestro código. Esto se consigue con una simple expresión lógica. En el ejemplo anterior, cuando una variable de entorno no está definida, se utiliza un valor por defecto (como `"sin nombre"` o `"No tengo web"`).

### ¿Cuáles son las buenas prácticas al definir variables de entorno?

Adoptar buenas prácticas asegura que nuestro código sea mantenible y comprensible.

- **Usar mayúsculas:** Las variables de entorno suelen escribirse en mayúsculas para que sean fácilmente reconocibles.
- **Separar palabras con guiones bajos:** Para variables con nombres compuestos, utiliza guiones bajos, por ejemplo, `MI_WEB`.

```javascript
// Ejemplo de variables de entorno en mayúsculas
const nombre = process.env.MI_NOMBRE || "sin nombre";
```

Esta convención es histórica y proviene del uso en sistemas Unix, donde las configuraciones de entorno se manejaban de esta manera.

### ¿Qué más deberías considerar al usar variables de entorno?

- **Consistencia de nombre:** Usa un esquema consistente para nombrar tus variables.
- **Seguridad:** No exponer nunca credenciales en repositorios públicos.
- **Herramientas complementarias:** Considera el uso de paquetes como `dotenv` para gestionar configuraciones en archivos `.env` durante el desarrollo local.

Implementar correctamente las variables de entorno no sólo mejora la seguridad de tu aplicación, sino que también hace que tu código sea más limpio y adaptable a diferentes entornos. Con estas herramientas podrás manejar configuraciones de manera eficaz y avanzar con confianza en tus proyectos de Node.js. ¡Sigue explorando y practicando para llevar tus habilidades al siguiente nivel!

