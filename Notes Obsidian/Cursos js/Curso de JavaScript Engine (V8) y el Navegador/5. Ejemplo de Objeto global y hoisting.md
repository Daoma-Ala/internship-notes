Si abres la consola del navegador, con la combinación de teclas `Ctrl + Shift + I` o clic derecho e “Inspeccionar” en tu navegador preferido (de preferencia Google Chrome).

Ejecuta la palabra `window`, se desplegará un objeto en el que se encuentran todas las funcionalidades de JavaScript, por ejemplo ejecuta `window.console.log("Hola")` tendrá el mismo comportamiento que `console.log("Hola")`.

Si ejecutas `this` observarás que muestra el mismo objeto que `window`, esto es porque en un contexto global, estos dos objetos son iguales. Pero en otros contextos, como el de una función o una clase, `this` cambia.

## Qué es hoisting

_Hoisting_ es un término para describir que las **declaraciones de variables y funciones son movidas a la parte superior del scope** más cercano: scope global o de función. Esto sucede solamente con las declaraciones y no con las asignaciones.

El código permanece igual, solo es una interpretación del motor de JavaScript que intenta ayudar a optimizar el código, pero en este caso provoca errores y resultados no esperados. En el caso de las variables solo sucede cuando son declaradas con `var`.

Conceptualmente, por ejemplo, una estricta definición de hoisting sugiere que las declaraciones de variables y funciones son físicamente movidas al comienzo del código, pero esto no es lo que ocurre en realidad. Lo que sucede es que las declaraciones de variables y funciones son **asignadas en memoria** durante la fase de **compilación**, pero quedan exactamente en dónde las has escrito en el código.

## Hoisting en variables declaradas con var

En el siguiente código, la respuesta del `console.log` es `undefined`, porque al hacer referencia a una variable que no está declarada, el motor de JavaScript crea esta variable antes de la declaración y le asigna un valor de `undefined`.

```js
console.log(nombre) // undefined
var nombre = "Andres"
```

```js
var nombre = undefined
console.log(nombre)
nombre = "Andres"
```

Lo adecuado es evitar utilizar `var` para declarar las variables con `let` o `const`, ya que estas últimas el proceso de optimización que realiza el motor de JavaScript no generará variables con el valor de `undefined` antes de su declaración.

**_Una preguntica de examen_** Una estricta definición de hoisting sugiere que las declaraciones de variables y funciones son físicamente movidas al comienzo del código,asignandolas en memoria dentro de un contexto de ejecucion.

---
Lo que escribes:

```js
console.log(nombre); 
apellido(); 
var nombre = "Diego"; 

function apellido(){ 	
	console.log("De Grada"); 
}
```


Como el motor de JavaScript lo interpreta:
```js
var nombre = undefined; 

function apellido(){ 	
	console.log("De Grada"); 
} 

console.log(nombre); apellido(); 
nombre = "Diego";`
```

Si te preguntas cuál pone más arriba, ¿Las variables o las funciones? La respuesta es las variables. Probemos esto:

```js
var nombre; 
function nombre(){
} 
typeof nombre; // Output: "function"`
```


¿Y si ponemos primero la función y luego la variable?
```js
function nombre(){

} 
var nombre; 
typeof nombre; // Output: "function"`
```
Pero, si declaras una variable y le asignas un valor en la misma linea el resultado es diferente:
```js
var nombre = "Platzi";
function nombre(){

} 
typeof nombre; // Output: "string"`
```
Esto es porque JavaScript hace hoisting solo de la declaración de la variable. JavaScript trata la declaración y asignación en una sola linea como dos pasos, por lo que si escribimos:
```js
var nombre = "Platzi";`
```
El motor lo interpreta así:
```js
var nombre = undefined; 
nombre = "Plazi";`
```
Así que cuando escribimos:
```js
var nombre = "Platzi"; 
function nombre(){
} 
typeof nombre; // Output: "string"`
```
Como lo interpreta el motor de JavaScript es así:
```js
var nombre = undefined; 
function nombre(){

} 
nombre = "Platzi"; 
typeof nombre; // Output: "string"`
```
Es decir que "se deja atrás" la asignación. Obviamente ningún desarrollador debería de escribir código así de confuso, esto es solo para saber como funciona JavaScript y su engine, ese conocimiento te hace un mejor desarrollador y te destaca de entre otros.

---
https://developer.mozilla.org/es/docs/Glossary/Hoisting
https://developer.mozilla.org/en-US/docs/Glossary/Parse

