üé¢ **Clase #13: Funciones as√≠ncronas 13/21** üé¢  

üîÅ **¬øQu√© es una funci√≥n as√≠ncrona?**  

La declaraci√≥n de funci√≥n **async** define una funci√≥n as√≠ncrona que devuelve un objeto, lo cual permite a un programa correr una funci√≥n sin congelar toda la compilaci√≥n. Dado que la finalidad de las funciones **async/await** es simplificar el comportamiento del uso s√≠ncrono de promesas, se hace m√°s f√°cil escribir promesas.  

üîè **La estructura se compone por las palabras reservadas async y await:**  
- La palabra **async** antes de la funci√≥n hace que la funci√≥n devuelva una promesa.  
- La palabra **await** se utiliza dentro de las funciones **async**, lo que hace que el programa espere hasta que la variable (promesa) se resuelva para continuar.  

‚úèÔ∏è **Ejemplo con c√≥digo:**  

1. Ir a VSC, crear dentro de la carpeta `src` una carpeta llamada **async**.  
2. En la ruta `src/async` crear el archivo **index.js**.  
3. Dentro del archivo `index.js`, se crea la promesa y luego se valida si la promesa se resolver√°, tambi√©n se hace el llamado de la misma y luego se muestra c√≥mo se desenvuelve con `await`. En el ejemplo se usa el **if ternario**.  

üö• **¬øQu√© es un operador if ternario?**  

El operador ternario consta de 3 partes:  
`condici√≥n ? expresi√≥n1 : expresi√≥n2;`  

- La primera es la l√≥gica, se eval√∫a una condici√≥n.  
- La segunda parte est√° despu√©s del signo de cierre de interrogaci√≥n `?`, esta se ejecuta solo si la condici√≥n es verdadera `true`.  
- La tercera parte est√° despu√©s del s√≠mbolo de dos puntos `:`, esta se ejecuta solo si la condici√≥n resulta falsa `false`.  

**Ejemplo:**

```js
var a = 5;
var b = 3;
var c = a > b ? "Es mayor" : "Es menor";
// Si la condici√≥n despu√©s del s√≠mbolo igual (=) se cumple, entonces se tendr√° el valor: ‚ÄúEs mayor‚Äù, de lo contrario tomar√° el valor: ‚ÄúEs menor‚Äù.
const fnAsync = () => {
    return new Promise((resolve, reject) => {
        (true) // Se us√≥ operador ternario y se est√° forzando con true que se cumpla la condici√≥n
            ? setTimeout(() => resolve('Async!!'), 2000)
            : reject(new Error('Error!')); // Arroja "error" en caso de que la condici√≥n sea false
    });
}

const anotherFn = async () => { // La palabra async es para el cuerpo de la funci√≥n
    // La palabra await estar√° dentro de la l√≥gica a implementar
    const something = await fnAsync(); // Aqu√≠ nos est√° regresando una promesa
    console.log(something); // Se imprime mientras se espera
    console.log('Hello!');
}

console.log('Before'); // Al ser la primera orden con solo console.log, 'Before' se imprime primero
anotherFn(); // Es el segundo en llamar, pero a√∫n as√≠ no se imprimen los console de su l√≥gica y tarda 2 s en ser ejecutada
console.log('After'); // Aparece justo despu√©s de 'Before' porque anotherFn() est√° esperando una promesa y a√∫n as√≠ el programa no se detiene, sino que sigue y as√≠ tenemos 'After' de segundo al imprimir

/* La salida al correr con Run Code queda:
Before
After
Async!!
Hello!
*/
```


https://developer.mozilla.org/es/docs/Web/JavaScript/Reference/Statements/async_function

