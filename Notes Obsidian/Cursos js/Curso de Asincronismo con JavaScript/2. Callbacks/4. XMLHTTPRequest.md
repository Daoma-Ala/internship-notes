[Recurso importante](https://developer.mozilla.org/es/docs/Web/HTTP/Status)

---
ğŸ“¥Â **ğ—–ğ—¹ğ—®ğ˜€ğ—² #ğŸ³: ğ—«ğ— ğ—Ÿğ—›ğ—§ğ—§ğ—£ğ—¥ğ—²ğ—¾ğ˜‚ğ—²ğ˜€ğ˜ğŸ³/ğŸ®ğŸ­**Â ğŸ“¤ . ğŸ“²Â **++XMLHttpRequest++**Â es un objeto de JS que permite hacer peticiones hacia servicios en la nube(URLs o APIs). . ğŸ“ª ++**Existen 5 estados en un llamado XMLHttpRequest:**++ .

- **`0`**Â â†’ Se ha inicializado.
- **`1`**Â â†’ Loading (cargando).
- **`2`**Â â†’ Se ha cargado.
- **`3`**Â â†’ Procesamiento si existe alguna descarga.
- **`4`**Â â†’ Completado. .

ğŸ“« ++**MÃ©todos y propiedades:**++ .Â 
**`xmlhttp.open()`**Â â†’ Prepara la peticiÃ³n para ser enviada tomando tres parÃ¡metros: prÃ³tocolo, url, asÃ­ncrono (true).Â 
**`xmlhttp.readyState`**Â â†’ Retorna el estado de la peticiÃ³n.Â 
**`xmlhttp.onreadystatechange`**Â â†’ Un eventHandler que es llamado cuando la propiedad readyState cambia.Â 
**`xmlhttp.status`**Â â†’ Retorna el estado de la respuesta de la peticiÃ³n. (200,400,500)Â **`xmlhttp.send`()**Â â†’ EnvÃ­a la peticiÃ³n. . 

ğŸ“¬ ++**CaracterÃ­sticas del protocolo http:**++ .Â **++Verbos++**: Los verbos indican acciones que estÃ¡n asociadas a peticiones y recursos, es decir, sirven para la manipulaciÃ³n de recursos cliente/servidor. Los Verbos http son:

- **`GET`**Â â†’ Solicita un recurso.
- **`HEAD`**Â â†’ Solicita un recurso pero sin retornar informaciÃ³n, la estructura de esta peticiÃ³n es igual que get tanto en su headers como estatus. Es Ãºtil cuando vamos a utilizar API, para comprobar si lo que vamos a enviar esta correcto y puede ser procesado.
- **`POST`**Â â†’ Sirve para la creaciÃ³n de recursos en el servidor.
- **`PUT`**Â â†’ Actualiza por completo un recurso, reemplaza todas las representaciones actuales del recurso de destino con la carga Ãºtil de la peticiÃ³n.
- **`PATCH`**Â â†’ Actualiza parcialmente un recurso.
- **`DELETE`**Â â†’ Elimina un recurso. .

ğŸ“­ ++**Los cÃ³digos de estados del servidor:**++ . El cÃ³digo de estado (status codes) sirve para describir el estado de la peticiÃ³n hecha al servidor.

- **`1xx`**Â â†’ Indican que la peticiÃ³n fue recibida por el servidor, pero estÃ¡ siendo procesada por el servidor.
- **`2xx`**Â â†’ Indican que la peticiÃ³n fue recibida, aceptada y procesada correctamente.
- **`3xx`**Â â†’ Indican que hay que tomar acciones adicionales para completar la solicitud.
- **`4xx`**Â â†’ Indican errores del lado del cliente que hizo mal una solicitud.
- **`5xx`**Â â†’ Indican errores del servidor. Suelen aparecer cuando existe un fallo en la ejecuciÃ³n en el servidor. .

ğŸ“§Â **++Los cÃ³digos mÃ¡s comunes a la hora de interactuar con una API son:++**Â .

- **`200`**Â â†’Â _OK_Â â†’ Indica que todo estÃ¡ correcto.
- **`201`**Â â†’Â _Created_Â â†’ Todo estÃ¡ correcto cuando se hizo una solicitud POST, el recurso se creÃ³ y se guardÃ³ correctamente.
- **`204`**Â â†’Â _No Content_Â â†’ Indica que la solicitud se completÃ³ correctamente pero no devolviÃ³ informaciÃ³n. Este es comÃºn cuando se hacen peticiones con el verbo DELETE.
- **`400`**Â â†’Â _Bad Request_Â â†’ Indica que algo estÃ¡ mal en la peticiÃ³n (no encontrÃ³ algo).
- **`401`**Â â†’Â _Unauthorized_Â â†’ Significa que antes de hacer una solicitud al servidor nos debemos autenticar.
- **`403`**Â â†’Â _Forbidden_Â â†’ Indica que no tenemos acceso a ese recurso aunque se estÃ© autenticado.
- **`404`**Â â†’Â _Not Found_Â â†’ Indica que no existe el recurso que se estÃ¡ intentando acceder.
- **`500`**Â â†’Â _Internal Server Error_Â â†’ Indica que algo fallÃ³, es un error que retorna el servidor cuando la solicitud no pudo ser procesada. . Fuente:Â [aquÃ­](https://en.wikipedia.org/wiki/List_of_HTTP_status_codes)Â .

ğŸ–ï¸Â **++Ejemplo en VSC:++**Â .

1. Ir a la consola y ubicarnos en la carpeta del proyecto y escribir el comando para instalar el paqueteÂ **++XMLHttpRequest++**:Â **`npm i xmlhttprequest`**
2. Ir al ++VSC++ y crear un archivo llamadoÂ **`challenge.js`**Â en la rutaÂ **`src/callback`**. El archivo queda:


---
Ejemplo practico
``` javascript
const XMLHttpRequest = require("xmlhttprequest").XMLHttpRequest;
const API = "https://api.escuelajs.co/api/v1";

// FunciÃ³n principal que obtendrÃ¡ la informaciÃ³n del producto como un objeto
function fetchData(urlApi, callback) {
    // Inicializar un objeto de tipo XMLHttpRequest
    let xhttp = new XMLHttpRequest();

    // Realiza la peticiÃ³n de apertura de comunicaciÃ³n
    xhttp.open('GET', urlApi, true);

    // Almacena la funciÃ³n que se ejecutarÃ¡ cuando el objeto 
    // XMLHttpRequest cambie de estado
    xhttp.onreadystatechange = function (event) {
        // Estados del objeto XMLHttpRequest:
        // 0: No inicializado
        // 1: Loading
        // 2: Ejecutado
        // 3: Interactuando
        // 4: Completado

        if (xhttp.readyState === 4) {
            // Si la respuesta de la API es exitosa (200 OK)
            if (xhttp.status === 200) {
                // Transforma el texto plano de la respuesta en un objeto
                callback(null, JSON.parse(xhttp.responseText));
            } else {
                // Captura el error si la respuesta no es exitosa
                const error = new Error("Error " + urlApi);
                return callback(error, null);
            }
        }
    };

    // EnvÃ­a la peticiÃ³n al servidor
    xhttp.send();
}
``` 
