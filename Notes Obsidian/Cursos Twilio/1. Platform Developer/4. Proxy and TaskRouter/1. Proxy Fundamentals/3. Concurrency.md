## Creación Inteligente de Mapeos

Proxy crea **mapeos de manera inteligente**, permitiendo una utilización eficiente de tu pool de números de teléfono.

Imagina el siguiente escenario (poco probable) en el que tenemos un grupo de **3 agentes** a la izquierda, comunicándose por **voz o SMS** con un grupo de **3 clientes** a la derecha.

![[Pasted image 20250202153512.png]]

## Utilización Eficiente del Pool de Números de Teléfono

En este caso, Proxy es capaz de facilitar **9 sesiones concurrentes** entre **3 agentes** y **3 clientes** con solo **3 números de teléfono**. Ten en cuenta que dentro de la misma sesión, tanto el agente como el cliente pueden estar utilizando un número de Twilio diferente, lo que permite que Proxy sea extremadamente eficiente en el uso de los números de teléfono.

### ¿Cuántos números de teléfono necesita Proxy?

Una regla general es que Proxy necesitará un número de teléfono para cada **sesión activa concurrente** en la que un participante pueda involucrarse. Sin embargo, determinar la cantidad de sesiones concurrentes en un caso específico no siempre es sencillo.

#### Ejemplo 1: Agentes y Clientes

Si un **agente** solo puede hablar con **3 clientes** a la vez y la sesión se cierra cuando la conversación termina, Proxy necesitará **3 números de Twilio** para enmascarar los **3 números de teléfono de los clientes**. Una vez que cada conversación termine, el número de Twilio asociado podrá ser reutilizado para una nueva sesión.

#### Ejemplo 2: Servicio de Transporte Compartido

Pero, ¿qué sucede si las sesiones no se cierran de manera tan clara? Imagina un caso de uso de **transporte compartido** donde tenemos **pasajeros** y **conductores**.

- Uno podría suponer que un pasajero solo puede tomar un viaje a la vez, por lo que un número de Proxy podría ser suficiente.
- Sin embargo, al considerar las **sesiones activas**, debemos tener en cuenta todo el ciclo de vida de la sesión.
- Por ejemplo, con un servicio de transporte compartido, podríamos querer permitir que los pasajeros llamen a su conductor por algún tiempo después de que el viaje haya terminado, en caso de que olviden algo en el coche.
- Pero durante este **período de gracia** después de que el viaje haya terminado, el pasajero también podría estar participando en otro viaje. Por lo tanto, necesitaríamos otro número de teléfono para esta nueva sesión.

### Conclusión

Como puedes ver, este problema no tiene una respuesta general y, en última instancia, es necesario tener en cuenta los **detalles específicos de cada caso de uso**.