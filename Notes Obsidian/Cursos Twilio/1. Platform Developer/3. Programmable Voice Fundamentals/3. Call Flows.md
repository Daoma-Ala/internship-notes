## Flujos de Llamadas Entrantes y Salientes

### Llamadas Entrantes

Primero, vamos a repasar qué sucede en una llamada entrante. El siguiente video ilustra todo el flujo.

![[Pasted image 20250201201908.png]]

### Llamadas Salientes

Las **llamadas salientes** se inician enviando una solicitud HTTP POST a la API REST de Voz Programable. La solicitud para una llamada saliente es casi igual a una solicitud para enviar un SMS, excepto que, en lugar de proporcionar el cuerpo del mensaje, necesitamos proporcionar la referencia a una **URL de solicitud de voz**.

Una vez que la persona llamada conteste la llamada, Twilio enviará una solicitud a esta URL y esperará una respuesta con instrucciones en **TwiML**. Luego, Twilio ejecutará estas instrucciones en la llamada (por ejemplo, desviar la llamada usando el verbo [`<Dial>`](http://www.twilio.com/docs/voice/twiml/dial
), reproducir música con [`<Play>`](http://www.twilio.com/docs/voice/twiml/play), usar texto a voz para decir algo con [`<Say>`](http://www.twilio.com/docs/voice/twiml/say), etc.).

#### Parámetros obligatorios para una solicitud de llamada saliente:

1. **Número de origen (From number)**  
   El número de teléfono que la persona llamada verá como el llamante; a diferencia de los SMS, no tiene que ser un número de Twilio, también puede ser un **ID de llamada verificado**.

2. **Número de destino (To number)**  
   El número de teléfono que recibirá la llamada.

3. **URL (Url)**  
   Enlace a las instrucciones TwiML que se deben ejecutar una vez que la llamada sea respondida.

```js
1 client.calls
2       .create({
3          url: 'http://demo.twilio.com/docs/voice.xml',
4          to: '+15005550008',
5          from: '+15005550006'
6        })
7       .then(call => console.log(call.sid));
```
El siguiente vídeo ilustra todo el flujo de llamadas salientes.
![[Pasted image 20250201202242.png]]

