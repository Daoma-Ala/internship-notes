
# TaskRouter: Sistema de Enrutamiento Basado en Habilidades

**TaskRouter** es un sistema de enrutamiento basado en habilidades para distribuir tareas (como interacciones de chat web, llamadas telefónicas entrantes, etc.) a agentes humanos o procesos automatizados que puedan manejarlas.

TaskRouter está diseñado para ser omnicanal y admite de forma nativa funciones comunes de enrutamiento de tareas, como tiempos de espera en cola, escalamientos y reglas de respaldo.

TaskRouter también rastrea automáticamente el estado de todas las tareas y trabajadores en tu sistema y proporciona registros de eventos detallados, lo que te permite monitorear fácilmente el rendimiento de tu centro de contacto.

## Ejemplos de Aplicaciones para TaskRouter

1. **Distribución de Llamadas o Chats Entrantes**: Distribuir llamadas entrantes o chats a agentes del centro de contacto. TaskRouter tiene soporte nativo para funciones comunes requeridas en entornos de centros de contacto, como el enrutamiento basado en habilidades y la priorización de tareas.

2. **Priorización y Asignación de Incidentes de Emergencia**: Priorizar y asignar incidentes de emergencia al equipo adecuado que pueda resolverlos.

3. **Distribución de Leads a Equipos de Ventas**: Distribuir leads a equipos de ventas, con priorización automática, por ejemplo, basada en el tamaño de la oportunidad.

## Componentes de TaskRouter

Antes de profundizar en los detalles, presentemos rápidamente los componentes más importantes de TaskRouter.

### Workspace (Espacio de Trabajo)
- Un **Workspace** es un contenedor para todo tu centro de contacto. Gestiona todas las colas de tareas (TaskQueues), trabajadores (Workers), flujos de trabajo (Workflows) y más.
- Esto te ayuda a separar lógicamente múltiples implementaciones de TaskRouter (por ejemplo, para diferentes divisiones de la empresa) dentro de la misma cuenta de Twilio.

### Workflow (Flujo de Trabajo)
- Un **Workflow** es el cerebro de TaskRouter. Controla cómo las tareas se enrutan a las colas de tareas y a los trabajadores.
- Un Workflow consiste en una serie de filtros que enrutan cada tarea al trabajador más adecuado.

### TaskQueues (Colas de Tareas)
- Las **TaskQueues** tienen 3 roles:
  1. Agrupar tareas similares. (Las tareas se categorizan en TaskQueues por el Workflow).
  2. Agrupar trabajadores con un conjunto particular de habilidades, por ejemplo, un equipo de trabajadores de soporte.
  3. Proporcionar un mecanismo de cola para las tareas hasta que se asignen a un trabajador.
- A medida que tu Workflow procesa las tareas, estas pasarán por una o más TaskQueues hasta que la tarea sea asignada y aceptada por un trabajador elegible.
- Un trabajador puede estar asociado con múltiples TaskQueues al mismo tiempo.
- Sin embargo, una tarea solo puede estar asignada a una TaskQueue a la vez. Con el tiempo, puede moverse a través de múltiples TaskQueues, por ejemplo, cuando se agota el tiempo de espera.

### Workers (Trabajadores)
- Un **Worker** es una entidad que consume tareas. Un ejemplo de un Worker podría ser un agente de tu centro de contacto. También podría ser un chatbot impulsado por IA o un servicio de correo de voz.
- Cada Worker está definido por sus atributos. Estos determinan las TaskQueues con las que cada trabajador está asociado, además de ayudar en la lógica de enrutamiento del Workflow.

### Worker Attributes (Atributos del Trabajador)
- El objeto JSON de **Worker Attributes** es arbitrario y completamente personalizable, con un límite de tamaño de 4 kB.
- No hay un esquema a seguir, por lo que puedes usar cualquier objeto JSON válido con cualquier estructura que elijas como tus atributos de trabajador.
- Cualquier estructura que elijas, la usarás más tarde en tus expresiones para controlar la lógica de enrutamiento.
- El siguiente es un ejemplo de una definición de atributos de trabajador:
```json
  {
    "languages": ["es", "en"],
    "skills": ["sales", "support"],
    "contact_uri": "+441163260745",
    "support": 7,
    "sales": 9
  }
```

### Tasks (Tareas)
- Las **Tasks** son objetos que representan un único elemento de trabajo procesado por TaskRouter.
- Esto podría ser cualquier cosa: un mensaje de texto SMS, una llamada, una alerta creada por un sistema externo, etc. No tiene que estar asociado con un producto o API específica de Twilio.
- Al igual que un Worker, cada Task tiene atributos representados por un objeto JSON arbitrario que te permite describir la tarea.
- Durante la configuración de TaskRouter, definirías reglas que usan esos atributos y deciden cómo se debe enrutar y asignar la tarea.
- Los atributos de la tarea tienen un límite de tamaño de 4 kB.
- Se recomienda que solo agregues información necesaria para el enrutamiento en los atributos de la tarea. La API Sync se puede usar para asociar bloques más grandes de datos con tareas individuales si es necesario.
- Cualquier cosa que agregues como atributo puede ser accedida posteriormente por el trabajador que recibe la tarea.

## Visualización del Funcionamiento
La siguiente animación muestra cómo estos componentes encajan entre sí y cómo puedes construir un espacio de trabajo básico de TaskRouter desde cero:

![[Pasted image 20250203205649.png]]

