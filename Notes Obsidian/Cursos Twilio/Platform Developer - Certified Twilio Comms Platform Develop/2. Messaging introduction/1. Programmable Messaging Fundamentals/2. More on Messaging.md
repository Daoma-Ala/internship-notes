  
Twilio provides phone numbers in **more than 100 countries** around the world

### **Tipos de números de teléfono**

En el módulo anterior, vimos cómo comprar un número de teléfono de Twilio para enviar y recibir mensajes. Ahora, hablemos un poco más sobre los números de teléfono antes de profundizar en la mensajería.

Twilio proporciona números de teléfono en más de **100 países** en todo el mundo. Estos son **números virtuales** que no están vinculados a un dispositivo o tarjeta SIM específica. Sin embargo, estos números **no son generados por Twilio**, sino que Twilio los arrienda de proveedores de números telefónicos a nivel global y los mantiene en su inventario. Este inventario es el que puedes acceder al buscar números durante el proceso de compra.

Los números que Twilio proporciona pueden clasificarse según **cuatro atributos principales**:

### **Capacidades**

- **SMS**
- **MMS**
- **Voz**
- **Fax**

Esto indica qué canales de comunicación admite el número de teléfono. Si un número admite **Voz**, pero no **SMS**, significa que puedes hacer y recibir llamadas con él, pero no enviar o recibir mensajes de texto.

Por lo general, cuando un número admite **SMS**, también admitirá **MMS** (si Twilio admite MMS en ese país). De manera similar, los números que admiten **Voz** suelen admitir **Fax**.

Los números que pueden manejar **tanto SMS como Voz al mismo tiempo** se denominan **dual-capable** en la documentación de Twilio.

### **Tipo de número**

Twilio ofrece diferentes [tipos de números](https://support.twilio.com/hc/en-us/articles/223135367-Twilio-Phone-Number-Types-and-Their-Capabilities) diseñados para distintos casos de uso. Los tipos de números disponibles en nuestro [inventario varían según el país.](https://support.twilio.com/hc/en-us/articles/223183068-Twilio-international-phone-number-availability-and-their-capabilities)

#### **1. Números locales**

- Asociados a una región geográfica específica.
- Comúnmente utilizados por individuos o negocios locales.
- Dependiendo de la estructura de precios de los operadores fijos en un país, pueden ser más baratos para quienes llaman desde la misma región.

#### **2. Números nacionales**

- No están vinculados a una región específica.
- Se pueden marcar desde cualquier parte del país.
- Generalmente tienen un costo fijo para quienes llaman.

#### **3. Números móviles**

- Pertenecen al rango de numeración móvil de un país.
- A menudo son los únicos números que pueden enviar y recibir mensajes de texto.

#### **4. Números gratuitos (Toll-Free)**

- No generan costo para quien llama.
- Generalmente utilizados por empresas que desean cubrir los costos de llamadas de sus clientes.

### **Etapas del ciclo de vida**

Los números de teléfono de Twilio pasan por un proceso riguroso de incorporación y pruebas que consta de tres etapas:

#### **1. Developer Preview (Vista previa para desarrolladores)**

- Números en una etapa muy temprana, probados exhaustivamente por Twilio.
- Ofrecidos a socios clave para pruebas más amplias.
- **No recomendados** para sistemas críticos o de producción.

#### **2. Beta**

- Números que han superado la etapa de **Developer Preview** y han demostrado ser confiables.
- Disponibles para todos los clientes de Twilio.
- Debido a la complejidad del ecosistema global de telecomunicaciones, algunos problemas poco comunes aún pueden surgir en esta etapa.

#### **3. Generally Available (Disponibilidad general)**

- Han pasado pruebas rigurosas en las etapas anteriores.
- **Aptos para uso en producción**.

### **Tipos de Messaging Sender ID**

Ya que estamos hablando de números de teléfono, también debemos mencionar los diferentes tipos de **Sender ID**. Estos son específicos para mensajería y **no aplican** a otros canales como voz.

#### **1. Long Code (Número largo)**

- Es un número de teléfono estándar, tal como lo conocemos.
- Debe especificarse en el formato **E.164**, comenzando con el signo `+` seguido del código de país.
- **Ejemplo:** `+15005550006`

#### **2. Short Code (Código corto)**

- Número especial de **5 o 6 dígitos**.
- Disponible en **EE. UU., Canadá y Reino Unido** a través de Twilio.
- Para más información, consulta la página de códigos cortos.
- **Ejemplo:** `12345`

#### **3. Alphanumeric Sender ID (ID alfanumérico de remitente)**

- Consiste en hasta **11 caracteres alfanuméricos**.
- **Importante:** Los destinatarios **no pueden responder** a mensajes enviados desde un **Alphanumeric Sender ID**.
- En algunos países, puede requerir **pre-registro**. En este proceso, los operadores locales evalúan tu caso de uso y los ejemplos de tráfico que planeas enviar. Si cumplen con las políticas del operador, se te otorgará permiso para enviar mensajes desde el **Sender ID** solicitado.
- **Ejemplo:** `MyCompany`
### **Límite de concurrencia de la API**

Ahora hablemos de algunas limitaciones que podrías encontrar al interactuar con las APIs de Twilio. La primera es el **límite de concurrencia de la API**, una restricción general que se aplica a todas las APIs de Twilio.

- Este límite **controla la cantidad de solicitudes concurrentes** que cada cuenta puede enviar a las APIs de Twilio.
- El límite es de **100 solicitudes concurrentes**.
- Una vez que una solicitud ha sido procesada y respondida por Twilio, se elimina del conteo y se puede enviar una nueva solicitud.
- Si se alcanza el límite, la API devolverá un **error 429**.

_(La siguiente animación muestra cómo se produce este error y cómo manejarlo.)_

![[Pasted image 20250128194700.png]]

![[Pasted image 20250128194710.png]]

### **urrencia de la API**

Este límite de **100 solicitudes concurrentes** es generalmente alto y poco probable de alcanzarse. Sin embargo, en algunos casos puede convertirse en un problema, por ejemplo, si estás enviando **una gran cantidad de mensajes rápidamente, uno por uno**.

Para evitar este problema, puedes aplicar las siguientes estrategias:

1. **Regular la tasa de envío en la aplicación**
    
    - Implementar una lógica para **espaciar** las solicitudes y evitar alcanzar el límite.
    - Usar colas de procesamiento para distribuir las solicitudes en el tiempo.
2. **Enviar múltiples mensajes en una sola solicitud**
    
    - Twilio ofrece métodos para enviar varios mensajes con **una sola llamada a la API**, lo que reduce el número de solicitudes individuales.
    - Esto se explicará en la sección **Notify**.

### **Tasas de envío de mensajes**

Si bien puedes enviar mensajes a Twilio a cualquier velocidad (siempre que no superes el **límite de concurrencia de la API**), existen **límites en la velocidad con la que los mensajes pueden ser entregados a las redes de los operadores**.

Para garantizar el cumplimiento de estas restricciones, **Twilio gestiona automáticamente una cola de mensajes**:

- Los mensajes se **almacenan en cola** en el orden en que se reciben.
- Twilio los **libera a las redes de los operadores** a la velocidad permitida.

Esto ayuda a evitar bloqueos y garantiza una entrega eficiente.

![[Pasted image 20250130103115.png]]
Cada número de Twilio tiene una **cola independiente** para gestionar el envío de mensajes.

- La cola puede **almacenar mensajes hasta por 4 horas**, dependiendo de la tasa de envío del número.
- Si la cola alcanza su límite, **los mensajes más antiguos pueden ser descartados**.

Esto significa que si envías más mensajes de los que el número puede procesar en un tiempo determinado, **Twilio los mantendrá en cola** y los enviará gradualmente según la capacidad permitida.

La tasa de envío de mensajes varía según el tipo de número utilizado. A continuación, se muestran las velocidades estándar:

| **Tipo de número**                                   | **Destino**              | **Tasa de envío (MPS)**                                |
| ---------------------------------------------------- | ------------------------ | ------------------------------------------------------ |
| **Long Codes SMS-capable**                           | EE. UU. y Canadá         | **1 MPS**                                              |
| **Números Toll-Free**                                | EE. UU. y Canadá         | **3 MPS** (se puede aumentar con una compra adicional) |
| **Long Codes SMS-capable o Alphanumeric Sender IDs** | Destinos internacionales | **10 MPS**                                             |
| **Short Codes**                                      | Cualquier destino        | **100 MPS**                                            |

Twilio permite aumentar el MPS en algunos casos (por ejemplo, para números Toll-Free).