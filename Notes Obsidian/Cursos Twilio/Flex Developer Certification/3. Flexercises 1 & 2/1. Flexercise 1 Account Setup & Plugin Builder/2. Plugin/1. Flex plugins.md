## Flex es personalizable mediante el uso de Plugins

Flex es personalizable mediante el uso de Plugins.

Un plugin es un código empaquetado en React que se implementa en la nube. Las Functions & Assets de Twilio se utilizan para alojar plugins de forma predeterminada, pero puedes implementar plugins en cualquier infraestructura pública.

Cada plugin debe registrarse en la API de Plugins. Cuando la UI de Flex se carga en el navegador, consultará esta API para determinar qué plugins debe cargar y desde dónde.

### API de Plugins

La API de Plugins no almacena los plugins en sí, sino que proporciona un marco operativo a su alrededor.

Esta API opera con 4 elementos primitivos:

- **Plugin**: Es un contenedor de alto nivel para cada plugin, que contiene información como su nombre y descripción.
- **Versión del Plugin**: Representa una versión específica de tu plugin; cada versión se define por su número de versión y una URL que apunta a la ubicación donde se ha implementado ese paquete de plugin (y desde donde debe ser cargado por la UI de Flex).
    - Los números de versión siguen el esquema de versionado semántico (mayor.menor.parche) y solo pueden aumentar; las versiones antiguas no pueden ser actualizadas.
- **Configuración**: Permite agrupar varias versiones de plugins en una sola versión de lanzamiento, de modo que, si creas múltiples plugins, puedes especificar qué plugins y en qué versiones deben utilizarse.
    - Las configuraciones son inmutables; para actualizar la configuración de tu centro de contacto, debes crear una nueva Configuración.
- **Lanzamiento**: Es esencialmente un puntero a la Configuración activa que debe utilizar Flex.
    - Los lanzamientos son inmutables e irreversibles. Para revertir un cambio, se requiere un nuevo Lanzamiento que use una Configuración anterior.
    - El último Lanzamiento siempre es el activo.
![[Pasted image 20250209222102.png]]

### Relación entre los elementos primitivos de la API de Plugins

#### Puntos clave:

- Los Plugins son solo contenedores de configuración, mientras que las Versiones de Plugins enlazan a los archivos de los plugins implementados.
- La Configuración es una lista de versiones de plugins que se deben usar.
- Las Versiones de Plugins, Configuraciones y Lanzamientos no pueden actualizarse; siempre debes crear una nueva versión.

### Plugins CLI

El **Flex Plugins CLI** es una extensión del Twilio CLI para automatizar procedimientos comunes como la creación de nuevos plugins y su prueba en local.

También automatiza flujos de trabajo comunes de la API de Plugins, como la implementación de nuevas Versiones de Plugins y la creación de Configuraciones y Lanzamientos.

Para instalar el Plugins CLI, sigue esta guía. O si ya tienes instalado el Twilio CLI, puedes instalar el Plugins CLI con el siguiente comando:

```sh
twilio plugins:install @twilio-labs/plugin-flex
```

### ¿Deberías crear un único plugin o dividirlo en varios más pequeños?

Generalmente, recomendamos dividir los plugins según líneas funcionales. En otras palabras, solo mantén la funcionalidad relacionada con un área funcional en el mismo plugin (por ejemplo, un plugin para manejar la localización, otro para la integración con CRM, etc.).

A continuación, crearemos un plugin simple para demostrar cómo funcionan.