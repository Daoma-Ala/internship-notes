# Creación de una nueva notificación  

Al crear una nueva notificación, es necesario especificar a qué **Bindings** se debe enviar.  

## Selección de Bindings  

Para los **Bindings registrados**, esto se puede hacer de dos maneras:  
1. Listando **Identities** individuales.  
2. Usando **Tags**.  

Si se especifican **tanto una Identity como una Tag**, solo se notificarán los Bindings que coincidan con **ambos criterios**.  

## Etiqueta implícita  

Para mayor comodidad, existe la etiqueta implícita `"all"`, que permite notificar **a todos los Bindings existentes**.  

## Ejemplo utilizando una Identity  

```javascript
1 const service = client.notify.services('ISXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX');
2 
3 // Send notification using an Identity
4 service.notifications.create({
5 'identity': 'customer_1221',
6     'body': 'Please proceed to the boarding gate, the gate will close in 5 minutes.'
7   });
```

**Example using a Tag**

```javascript
1 const service = client.notify.services('ISXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX');
2 
3 // Send notification using a Tag
4 service.notifications.create({
5 'tag': 'flight_AB201',
6     'body': 'Your upcoming flight AB201 will be delayed by 30 minutes.'
7   });
```

# Bindings en la solicitud  

Registrar (**provisionar**) Bindings tiene sentido cuando planeas enviar notificaciones a los mismos destinatarios de forma recurrente.  

## Envío de notificaciones sin provisionamiento  

Sin embargo, si tu caso de uso es, por ejemplo, una **campaña de marketing única**, donde la lista de destinatarios cambia con frecuencia, el proceso de **provisionar y desaprovisionar** Bindings solo añadiría sobrecarga.  

Para estos casos, **Notify permite especificar los Bindings directamente en la solicitud de creación de notificación**.  

## Ejemplo usando Bindings en la solicitud  


```javascript
const service = client.notify.services('ISXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX');

// Send notification with Bindings in request
service.notifications
  .create({
    toBinding: [
      JSON.stringify({
        binding_type: 'sms',
        address: '+15005550006'
      }),
      JSON.stringify({
        binding_type: 'sms',
        address: '+15005550008'
      }),
    ],
    body: 'Your upcoming flight AB201 will be delayed by 30 minutes',
  })
```

La siguiente animación demuestra las dos formas diferentes de manejar los Bindings en otro caso de uso: una **organización de soporte** donde algunos usuarios tienen turnos de guardia y necesitan ser notificados de nuevos incidentes.  

## Provisionamiento de Bindings con anticipación  

Provisionar los **Bindings por adelantado** permite una **selección fácil** mediante una etiqueta `"oncall"`.  

## Usando Bindings en la solicitud  

Usar **Bindings en la solicitud** también es una opción, pero en ese caso, la lista de direcciones de los destinatarios debe especificarse **de manera explícita** con cada solicitud de notificación.  

===video===

