# 🔹 Estado en React (`useState`)

El **Estado** es una de las herramientas principales en React para crear interfaces dinámicas y actualizadas en tiempo real.

## 📌 ¿Qué es el Estado?

Podemos definir el estado como **"variables que almacenan información dinámica de un componente y que se actualizan a medida que el usuario interactúa con la UI"**.

El estado permite:

- Mantener la información actualizada sin necesidad de renderizar todo el componente.
- Cambiar la apariencia y el comportamiento de un componente en tiempo real.
- Optimizar actualizaciones mediante el **Virtual DOM**, que compara los cambios y actualiza solo lo necesario.

---

## 🟢 `useState` en React

El hook `useState` es la forma más común de manejar estado en React.

🔹 **Retorna un array con dos valores**:

1. **El estado actual**.
2. **Una función para actualizarlo** (por convención, empieza con `set`).

Ejemplo sin desestructuración:

```jsx
function Component () {
  const state = useState("valor inicial");
  const searchValue = state[0];  
  const setSearchValue = state[1];

  return <div> ... </div>;
}
```

Ejemplo con desestructuración (más limpio y común en React):

```jsx
function Component () {
  const [searchValue, setSearchValue] = useState("valor inicial");

  return <div> ... </div>;
}
```

---

## 🔄 ¿Cuándo se renderiza un componente en React?

Un componente se vuelve a renderizar cuando:

1. **Su estado cambia** (cuando usamos `setState`).
2. **Sus props cambian**.

⚠️ **React vuelve a ejecutar toda la función del componente**, incluyendo hooks, variables y funciones, **pero el `useState` solo se inicializa una vez** en la vida del componente.

---

## ⚡️ La actualización del estado es **asíncrona**

Si actualizamos el estado varias veces seguidas, React no aplicará cada cambio inmediatamente, sino que agrupará las actualizaciones.

Ejemplo incorrecto:

```jsx
const [counter, setCounter] = useState(0);

function handleCounter () {
  setCounter(counter + 3);
  setCounter(counter + 3);
  setCounter(counter + 3);
}
```

💡 **¿Cuál será el nuevo valor de `counter` después de llamar `handleCounter()`?**  
🔹 **Respuesta: 3** (no 9), porque React solo considera el último estado disponible al momento de la actualización.

🔹 **Solución:**  
Para asegurarnos de que cada actualización tenga en cuenta el valor actualizado, pasamos una **función que recibe el estado anterior**.

```jsx
function handleCounter () {
  setCounter(prevCounter => prevCounter + 3);
  setCounter(prevCounter => prevCounter + 3);
  setCounter(prevCounter => prevCounter + 3);
}
```

✅ Ahora el valor final de `counter` será **9**, porque cada actualización se basa en el estado más reciente.

---

## 🚀 Consideraciones Finales

- **Siempre usa `setState` correctamente** para evitar renderizados innecesarios.
- **Si el estado depende de su valor anterior, usa funciones en `setState`**.
- **React puede agrupar múltiples actualizaciones de estado** para optimizar la performance.
- **Si necesitas manejar estado global, considera `useReducer` o `context API`** en lugar de `useState`.

| 